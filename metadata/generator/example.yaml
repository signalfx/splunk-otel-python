name: FastAPI
instrumentation_name: fastapi
source_href: https://github.com/open-telemetry/opentelemetry-python-contrib/tree/main/instrumentation/opentelemetry-instrumentation-fastapi
package_name: opentelemetry-instrumentation-fastapi
stability: stable
description: This instrumentation provides automatic tracing for web requests in FastAPI applications.
settings:
  - property: otel.python.fastapi.enabled
    env: OTEL_PYTHON_FASTAPI_ENABLED
    description: If true, enables the FastAPI instrumentation.
    default: 'true'
    type: boolean
    category: instrumentation
  - property: otel.instrumentation.http.capture_headers.server.request
    env: OTEL_PYTHON_SERVER_REQUEST_HEADERS
    description: A comma-separated list of HTTP request header names to capture.
    default: ''
    type: string
    category: instrumentation
  - property: otel.instrumentation.http.capture_headers.server.response
    env: OTEL_PYTHON_SERVER_RESPONSE_HEADERS
    description: A comma-separated list of HTTP response header names to capture.
    default: ''
    type: string
    category: instrumentation
spans:
  - name: 'HTTP {request.method}'
    kind: SERVER
    attributes:
      - name: http.method
      - name: http.scheme
      - name: http.host
      - name: http.target
      - name: http.server_name
      - name: http.status_code
      - name: http.flavor
      - name: net.host.port
      - name: net.host.name
      - name: http.route
metrics:
  - name: HTTP_SERVER_ACTIVE_REQUESTS
    type: up_down_counter
    unit: requests
    description: Measures the number of concurrent HTTP requests that are currently in-flight.
    attributes: []
  - name: HTTP_SERVER_DURATION
    type: histogram
    unit: ms
    description: Measures the duration of inbound HTTP requests.
    attributes: []
  - name: HTTP_SERVER_REQUEST_DURATION
    type: histogram
    unit: s
    description: Duration of HTTP server requests.
    attributes: []

    